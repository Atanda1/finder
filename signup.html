<!DOCTYPE html>
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href=".\style\signup.css">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    </head>
    <body>
        <form name="contactForm" id="registerform" >
            <h2> Sign Up With Finder</h2>
            <div class="row">
                <label>Full Name</label>
                <input type="text" name="name" id="fullName">
                <div class="error" id="nameErr"></div>
            </div>
            <div class="row">
                <label>Email Address</label>
                <input type="text" name="email" id="email" required>
                <div class="error" id="emailErr"></div>
            </div>
            <div class="row">
                <label>Mobile Number</label>
                <input type="text" name="mobile" maxlength="11" id="mobileNumber" required>
                <div class="error" id="mobileErr"></div>
            </div>
            <div class="row">
                <label>Address</label>
                <input type="text" name="name"  id="address" required>
                <div class="error" id="nameErr"></div>
            </div>
            <div class="row">
                <label>Gender</label>
                <div class="form-inline" required>
                    <label><input type="radio" name="gender" value="male"> Male</label>
                    <label><input type="radio" name="gender" value="female"> Female</label>
                </div>
                <div class="error" id="genderErr"></div>
            </div>
            <div class="row">
                <label>Password</label>
                <input type="password" name="password" id="inputpassword" required>
                <div class="error" id="nameErr"></div>
            </div>
            <div class="row">
                <label>Confirm Password</label>
                <input type="password" name="password" id="confirmPassword" required>
                <div class="error" id="nameErr"></div>
            </div>
            <div class="row">
                <input type="submit" value="Submit">
            </div>
        </form>
      <script>


          // Defining a function to display error message

          var fullName, mobileNumber, address, email, inputpassword, confirmPassword, gender;

             
            document.getElementById('registerform').addEventListener('submit', registerform);
           
         function registerform(event){
              event.preventDefault();
              
              fullName = document.getElementById('fullName').value;
              mobileNumber = document.getElementById('mobileNumber').value;
              address = document.getElementById('address').value;
              email = document.getElementById('email').value;
              inputpassword = document.getElementById('inputpassword').value;
              confirmPassword = document.getElementById('confirmPassword').value;
              document.getElementsByName('gender').forEach(el => {
                if(el.checked){
                  gender = el.value;
                  }
              });
          
              console.log(fullName);
  
                      axios.post('https://cors-anywhere.herokuapp.com/http://finder.nutrichef.com.ng/api/v1/signup', {
                      full_name :fullName, 
                      email:email,  
                      mobile_number:mobileNumber, 
                      gender: gender, 
                      address: address,  
                      password: inputpassword,  
                      password_confirmation: confirmPassword
            })
            .then(function (response) {
              console.log(response);
            })
            .then((data) => {
                localStorage.setItem('access_token', data.token);
                window.location.href = "./dashboard.html";
              })
            .catch(function (error) {
              console.log(error);
            });
         }
          </script>
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
      
       
    </body>
</html>